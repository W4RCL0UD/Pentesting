#!/bin/bash

#================================================================
#% SYNOPSIS
#+    ./assetfinder.sh domain.com
#%
#% DESCRIPTION
#%    This script is used to harvest subdomains for a URL
#%
#% CREDITS
#%    @TheCyberMentor - Practical Ethical Hacking
#%    https://academy.tcm-sec.com/p/practical-ethical-hacking-the-complete-course
#%
#================================================================

url=$1

if [ ! -d "$url" ];then
	mkdir $url
fi

if [ ! -d "$url/recon" ];then
	mkdir $url/recon
fi

echo "[+] Harvesting subdomains with assetfinder..."
assetfinder $url >> $url/recon/assets.txt
cat $url/recon/assets.txt | grep $1 >> $url/recon/$url.txt
rm $url/recon/assets.txt
